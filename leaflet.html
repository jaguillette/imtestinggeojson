<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Quick Start Guide Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="http://leafletjs.com/dist/leaflet.css" />
	<link rel="stylesheet" type="text/css" href="stylesheets/leaflet_test_style.css">
	<link rel="points" type="application/json" href="https://rawgit.com/jaguillette/imtestinggeojson/gh-pages/hgr_test_set.geojson">

	<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
</head>
<body>
	<div id="map"></div>

	<script src="http://leafletjs.com/dist/leaflet.js"></script>
	<script>

		mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
		wholink = '<a href="http://stamen.com">Stamen Design</a>';
		var watercolorTiles = L.tileLayer(
			'http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg', {
			attribution: '&copy; '+mapLink+' Contributors & '+wholink,
			maxZoom: 18,
			});

		$.getJSON($('link[rel="points"]').attr("href"), function(data) {
			var geojson = L.geoJson(data, {
				onEachFeature: function (feature, layer) {
					var popupContent = "<table><tr><td>Name (Russian)</td><td>"+feature.properties.ru_new_orth+"</td></tr><tr><td>Name (Old Russian)</td><td>"+feature.properties.ru_old_orth+"</td></tr><tr><td>Description (Old Russian)</td><td>"+feature.properties.description+"</td></tr><tr><td>Text Source</td><td><a href=\""+feature.properties.SOURCE+"\">Link</a></td></tr><tr><td>GeoNames Place</td><td><a href=\""+feature.properties.geonameId+"\">Link</a></td></tr></table>"
					layer.bindPopup(popupContent);
				}
			});
			var map = L.map('map').fitBounds(geojson.getBounds());
			watercolorTiles.addTo(map);
			geojson.addTo(map);
		});
	</script>
</body>
</html>
